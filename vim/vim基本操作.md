# vim 基本操作（总结自 vimtutor）

## 移动光标

- h 左
- j 下 像不像 ↓
- k 上
- l 右

```
     ^
     k
< h     l >
     j
     v
```

## 文本编辑

### 删除

按下 x 键来删除`光标所在位置`的字符

### 插入

按下 i 键，输入必要的文本字符。 在光标前插入。
按下 a 键，输入必要的文本字符。 在光标后插入。
按下 I 键，输入必要的文本字符。 在行首插入。
按下 A 键，输入必要的文本字符。 在行尾插入。
按下 o 键，在光标下方打开新的一行 并进入插入模式。
按下 O 键，在光标上方打开新的一行 并进入插入模式

### 添加

按下 A 键，在行末输入必要的添加内容。

## 编辑文件

### 退出编辑器

```
:wq <回车> 保存改动并退出
:q! <回车> 放弃所有改动并退出
```

## 删除类命令

- d+motion
- d - 删除操作符号
- motion - 操作符对象
- 一个简短的动作列表：
  - w - 从当前光标当前位置直到下一个单词起始处，不包括它的第一个字符。
  - e - 从当前光标当前位置直到单词末尾，包括最后一个字符。
  - \$ - 从当前光标当前位置直到当前行末。

### 从光标处删除至下一个单词起始处，不包括它的第一个字符

```
dw
```

### 从光标处删除到单词末尾，包括最后一个字符

```
de
```

### 从光标处删除到行末

```
d$
```

## 使用计数指定动作

> 在动作前输入数字会使它重复那么多次。

This is just a line with words you can move around in.

1. 输入 2w 使光标向前移动两个单词。 (长度不够是光标在最后一个单词的末尾)
2. 输入 3e 使光标向前移动到第三个单词的末尾。
3. 输入 0 (数字零) 移动光标到行首。

### 使用计数以删除更多

> d number(数字) motion

输入 d2w 以删除两个大写字母单词

## 删除整行

### 删除一行(相当于 CTRL+ x (这个是在这个电脑都能使用)|但是删除的文本只能在 vim 编辑器中使用)(将删除的一行置于 vim 的寄存器中)

```
dd
```

### 删除 n 行

```
ndd 如 2dd - 删除两行
```

## 撤销类命令

> 输入 u 来撤消最后执行的命令，输入 U 来撤消对整行的修改。

多次输入 CTRL-R (先按下 CTRL 键不放开，接着按 R 键)，这样就可以重做被撤消的命令，也就是撤消掉撤消命令。

## 在正常模式下修改命令的格式

> operator [number] motion

- operator - 操作符，代表要做的事情，比如 d 代表删除
- [number] - 可以附加的数字，代表动作重复的次数
- motion - 动作，代表在所操作的文本上的移动，例如 w 代表单词(word)，\$ 代表行末等等。

## 置入类命令

### p

> 输入 p 将最后一次删除的内容(如果是整行的话)置入光标的下一行，否则置入光标后。

### P

> 输入 P 将最后一次删除的内容(如果是整行的话)置入光标的上一行，否则置入光标前。

## 替换类命令

### r

> 输入 r 和 一个字符 替换 光标所在位置 的字符。

### R

> 输入 R 进入替换模式。 | 输入的字符 直接替换掉光标所在位置的字符

## 更改类命令

> c 开头代表: 删除 + 插入

### ce

> 输入 ce ，改变文本直到一个单词的末尾。

### cw

> 输入 cw ， 删除光标所在位置到该单词末尾的所有字符 然后键入要替换的内容

This line has a few words that need changing using the change operator.

## 定位及文件状态

> 输入 CTRL-G 显示当前编辑文件中当前光标所在行位置以及文件状态信息。

### G

> 输入大写 G 使当前光标直接跳转到文件最后一行。

### gg

> 输入 gg 使当前光标直接跳转到文件第一行。

### {行号} + G

> 输入 {行号}G 使当前光标直接跳转到文件的第{行号}行

```
501G 跳转到第501行
```

## 搜索类命令

### 正向搜索

> 输入 / 加上一个字符串可以用以在当前文件中查找该字符串。

#### n

向下搜索

#### N

向上搜索

### 逆向搜索

> 输入 ? 加上一个字符串可以用以在当前文件中查找该字符串。

#### n

向上搜索

#### N

向下搜索

### 返回上一步操作历史

> CTRL + o

### 返回下一步操作历史

> CTRL + i

### 配对括号的查找

> 移动光标到你想要查找的符号上

> 按下 % 字符

> 光标跳到配对的符号上

## 替换命令

### :s (替换的是光标所在行)

> 输入 :s/{old}/{new}/g 可以在 光标所在行 替换 {old} 为 {new}。

> 输入 :s/{old}/{new} 可以在 光标所在行 (第一个匹配处)替换 {old} 为 {new}。

thee best time to see thee flowers is in the spring.
thee best time to see thee flowers is in the spring.

### 替换两行之间出现的每个匹配串

#### :#,#s/old/new/g

> 其中 #,# 代表的是替换操作的若干行中首尾两行的行号。

```
:235.236s/thee/the/g
```

### 替换整个文件

#### :%s/old/new/g

> 则是替换整个文件中的每个匹配串。

#### :%s/old/new/gc

> 会找到整个文件中的每个匹配串，并且对每个匹配串提示是否进行替换。

the best time to see the flowers is in the spring.
the best time to see the flowers is in the spring.

## 复制文本

1. 按下 v 进入 可视模式， 选择需要复制的内容
2. 按下 y 复制高亮文本。
